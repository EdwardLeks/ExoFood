{"version":3,"sources":["../src/auth.js"],"names":["setupUI","user","document","querySelector","style","display","db","collection","doc","uid","get","then","accountName","accountInfoName","accountInfoEmail","innerHTML","data","name","email","auth","onAuthStateChanged","signupForm","addEventListener","e","preventDefault","value","password","createUserWithEmailAndPassword","cred","set","foodItems","Store","addFood","loginForm","signInWithEmailAndPassword","logOut","signOut"],"mappings":";AACA,IAAMA,EAAU,SAACC,GACZA,GAEHC,SAASC,cAAc,qBAAqBC,MAAMC,QAAU,OAC5DH,SAASC,cAAc,kBAAkBC,MAAMC,QAAU,OACzDC,GAAGC,WAAW,SAASC,IAAIP,EAAKQ,KAAKC,MAAMC,KAAK,SAAAH,GACzCI,IAAAA,EAAcV,SAASC,cAAc,iBACrCU,EAAkBX,SAASC,cAAc,sBACzCW,EAAmBZ,SAASC,cAAc,uBAChDS,EAAYG,UAAYP,EAAIQ,OAAOC,KACnCJ,EAAgBE,UAAYP,EAAIQ,OAAOC,KACvCH,EAAiBC,UAAYd,EAAKiB,UAGnChB,SAASC,cAAc,qBAAqBC,MAAMC,QAAU,OAC5DH,SAASC,cAAc,kBAAkBC,MAAMC,QAAU,SAK3Dc,KAAKC,mBAAmB,SAAAnB,GACnBA,EAEHD,EAAQC,GAERD,MAKF,IAAMqB,EAAanB,SAASC,cAAc,gBAE1CkB,EAAWC,iBAAiB,SAAU,SAACC,GACtCA,EAAEC,iBAEIN,IAAAA,EAAQG,EAAW,gBAAgBI,MACnCC,EAAWL,EAAW,mBAAmBI,MAG/CN,KAAKQ,+BAA+BT,EAAOQ,GAAUf,KAAK,SAAAiB,GAClDtB,OAAAA,GAAGC,WAAW,SAASC,IAAIoB,EAAK3B,KAAKQ,KAAKoB,IAAI,CACpDZ,KAAMI,EAAW,eAAeI,MAChCK,UAAW,OAEVnB,KAAK,WAEOT,SAASC,cAAc,iBAC/BC,MAAMC,QAAU,OACtBC,GAAGC,WAAW,SAASC,IAAIP,KAAKQ,KAAKC,MAAMC,KAAK,SAAAH,GAC/CuB,MAAMC,QAAQxB,EAAIQ,OAAOc,iBAM5B,IAAMG,EAAY/B,SAASC,cAAc,eACzC8B,EAAUX,iBAAiB,SAAU,WAC9BJ,IAAAA,EAAQe,EAAU,eAAeR,MACjCC,EAAWO,EAAU,kBAAkBR,MAE7CN,KAAKe,2BAA2BhB,EAAOQ,GAAUf,KAAK,WAEvCT,SAASC,cAAc,gBAC/BC,MAAMC,QAAU,WAKxB,IAAM8B,EAASjC,SAASC,cAAc,WACtCgC,EAAOb,iBAAiB,QAAS,SAACC,GACjCA,EAAEC,iBACFL,KAAKiB","file":"auth.a8254767.js","sourceRoot":"../public","sourcesContent":["// UI Setup On Authentication Change\r\nconst setupUI = (user) => {\r\n\tif (user) {\r\n\t\t//Toggle UI Elements\r\n\t\tdocument.querySelector('.account-register').style.display = 'none'\r\n\t\tdocument.querySelector('.account-block').style.display = 'flex'\r\n\t\tdb.collection('users').doc(user.uid).get().then(doc => {\r\n\t\t\tconst accountName = document.querySelector('.account-name')\r\n\t\t\tconst accountInfoName = document.querySelector('.account-info-name')\r\n\t\t\tconst accountInfoEmail = document.querySelector('.account-info-email')\r\n\t\t\taccountName.innerHTML = doc.data().name\r\n\t\t\taccountInfoName.innerHTML = doc.data().name\r\n\t\t\taccountInfoEmail.innerHTML = user.email\r\n\t\t})\r\n\t} else {\r\n\t\tdocument.querySelector('.account-register').style.display = 'flex'\r\n\t\tdocument.querySelector('.account-block').style.display = 'none'\r\n\t}\r\n}\r\n\r\n//Listen To User Authentication Change\r\nauth.onAuthStateChanged(user => {\r\n\tif (user) {\r\n\t\t//Get data\r\n\t\tsetupUI(user)\r\n\t} else {\r\n\t\tsetupUI()\r\n\t}\r\n})\r\n\r\n// Sign Up\r\nconst signupForm = document.querySelector('#signup-form')\r\n\r\nsignupForm.addEventListener('submit', (e) => {\r\n\te.preventDefault()\r\n\t//Get user info\r\n\tconst email = signupForm['signup-email'].value\r\n\tconst password = signupForm['signup-password'].value\r\n\r\n\t//Sign up the user\r\n\tauth.createUserWithEmailAndPassword(email, password).then(cred => {\r\n\t\treturn db.collection('users').doc(cred.user.uid).set({\r\n\t\t\tname: signupForm['signup-name'].value,\r\n\t\t\tfoodItems: []\r\n\t\t})\r\n\t}).then(() => {\r\n\t\t// Close Modal\r\n\t\tconst modal = document.querySelector('#signup-modal');\r\n\t\tmodal.style.display = \"none\";\r\n\t\tdb.collection('users').doc(user.uid).get().then(doc => {\r\n\t\t\tStore.addFood(doc.data().foodItems);\r\n\t\t})\r\n\t})\r\n})\r\n\r\n// Log In\r\nconst loginForm = document.querySelector(\"#login-form\")\r\nloginForm.addEventListener('submit', () => {\r\n\tconst email = loginForm['login-email'].value\r\n\tconst password = loginForm['login-password'].value\r\n\r\n\tauth.signInWithEmailAndPassword(email, password).then(() => {\r\n\t\t// Close Modal\r\n\t\tconst modal = document.querySelector('#login-modal');\r\n\t\tmodal.style.display = \"none\";\r\n\t})\r\n})\r\n\r\n// Log Out\r\nconst logOut = document.querySelector('#logout')\r\nlogOut.addEventListener('click', (e) => {\r\n\te.preventDefault()\r\n\tauth.signOut()\r\n})"]}